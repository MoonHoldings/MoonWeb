import { LAMPORTS_PER_SOL } from '@solana/web3.js'
import toCurrencyFormat from './toCurrencyFormat'

const convertUnixTimestamp = (unixTimestamp) => {
  const timestamp = unixTimestamp // Unix timestamp

  // Create a new Date object using the timestamp multiplied by 1000 (to convert from seconds to milliseconds)
  const date = new Date(timestamp * 1000)

  // Extract the different components of the date
  const year = date.getFullYear()
  const month = date.getMonth() + 1 // Note: Months are zero-indexed, so we add 1
  const day = date.getDate()

  // Format the date as a string
  const formattedDate = `${year}-${month.toString().padStart(2, '0')}-${day
    .toString()
    .padStart(2, '0')}`

  return formattedDate
}

const formatPrice = (price) => {
  return price / LAMPORTS_PER_SOL
}

export const formatChartData = (candleData) => {
  const chartData = candleData
    .map((item) => {
      return {
        time: convertUnixTimestamp(item.startTime),
        high: formatPrice(item.high),
        low: formatPrice(item.low),
        open: formatPrice(item.open),
        close: formatPrice(item.close),
      }
    })
    .reverse()

  return chartData
}

const data = [
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 196682679,
    startTime: 1685318400,
    high: 6350000000,
    low: 5999000000,
    open: 5999000000,
    close: 6350000000,
    volume: 31031709990,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 196519571,
    startTime: 1685232000,
    high: 5999000000,
    low: 5490000000,
    open: 5490000000,
    close: 5999000000,
    volume: 40732800000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 196327315,
    startTime: 1685145600,
    high: 5500000000,
    low: 5000000000,
    open: 5500000000,
    close: 5490000000,
    volume: 5487018000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 196108443,
    startTime: 1685059200,
    high: 5770000000,
    low: 5410000000,
    open: 5470000000,
    close: 5500000000,
    volume: 15221099980,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 195965120,
    startTime: 1684972800,
    high: 5470000000,
    low: 5000000000,
    open: 5000000000,
    close: 5470000000,
    volume: 25841800000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 195787620,
    startTime: 1684886400,
    high: 5450000000,
    low: 5000000000,
    open: 5450000000,
    close: 5000000000,
    volume: 21184000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 195586754,
    startTime: 1684800000,
    high: 5450000000,
    low: 5450000000,
    open: 5450000000,
    close: 5450000000,
    volume: 5390000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 195357152,
    startTime: 1684713600,
    high: 5470000000,
    low: 5432100000,
    open: 5432100000,
    close: 5450000000,
    volume: 15832100000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 195187532,
    startTime: 1684627200,
    high: 5470000000,
    low: 3590000000,
    open: 4500000000,
    close: 5432100000,
    volume: 13510000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 195037756,
    startTime: 1684540800,
    high: 5000000000,
    low: 4415000000,
    open: 5000000000,
    close: 4500000000,
    volume: 52285888063,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 194850912,
    startTime: 1684454400,
    high: 5450000000,
    low: 5000000000,
    open: 5390000000,
    close: 5000000000,
    volume: 18838878064,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 194656689,
    startTime: 1684368000,
    high: 5880000000,
    low: 5200000000,
    open: 5200000000,
    close: 5390000000,
    volume: 5200000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 194496645,
    startTime: 1684281600,
    high: 5990000000,
    low: 5200000000,
    open: 5990000000,
    close: 5200000000,
    volume: 18699561223,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 194315838,
    startTime: 1684195200,
    high: 5990000000,
    low: 5750000000,
    open: 5750000000,
    close: 5990000000,
    volume: 46800000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 194045643,
    startTime: 1684108800,
    high: 6200000000,
    low: 5750000000,
    open: 6200000000,
    close: 5750000000,
    volume: 4975034984,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 193954835,
    startTime: 1684022400,
    high: 6400000000,
    low: 6133000000,
    open: 6400000000,
    close: 6200000000,
    volume: 24422205400,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 193770326,
    startTime: 1683936000,
    high: 6400000000,
    low: 6200000000,
    open: 6400000000,
    close: 6400000000,
    volume: 6200000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 193593430,
    startTime: 1683849600,
    high: 6750000000,
    low: 6400000000,
    open: 6750000000,
    close: 6400000000,
    volume: 25940000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 193411872,
    startTime: 1683763200,
    high: 6750000000,
    low: 6280000000,
    open: 6300000000,
    close: 6750000000,
    volume: 18780000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 193208474,
    startTime: 1683676800,
    high: 6300000000,
    low: 5400000000,
    open: 5849000000,
    close: 6300000000,
    volume: 53239000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 193045132,
    startTime: 1683590400,
    high: 6250000000,
    low: 5849000000,
    open: 5850000000,
    close: 5849000000,
    volume: 5850000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 192858468,
    startTime: 1683504000,
    high: 6300000000,
    low: 5200000000,
    open: 5350000000,
    close: 5850000000,
    volume: 90286601040,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 192693860,
    startTime: 1683417600,
    high: 5350000000,
    low: 4650000000,
    open: 4650000000,
    close: 5350000000,
    volume: 63645241360,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 192504272,
    startTime: 1683331200,
    high: 5290000000,
    low: 4650000000,
    open: 5290000000,
    close: 4650000000,
    volume: 15405241360,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 192328144,
    startTime: 1683244800,
    high: 5750000000,
    low: 5290000000,
    open: 5750000000,
    close: 5290000000,
    volume: 5000000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 192148516,
    startTime: 1683158400,
    high: 6230000000,
    low: 3770000000,
    open: 4200000000,
    close: 5750000000,
    volume: 156890493948,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 191948753,
    startTime: 1683072000,
    high: 5550000000,
    low: 4200000000,
    open: 5550000000,
    close: 4200000000,
    volume: 0,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 191793919,
    startTime: 1682985600,
    high: 5550000000,
    low: 4058200000,
    open: 5000000000,
    close: 5550000000,
    volume: 30646590908,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 191585593,
    startTime: 1682899200,
    high: 5000000000,
    low: 3855000000,
    open: 4350000000,
    close: 5000000000,
    volume: 27320090908,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 191413608,
    startTime: 1682812800,
    high: 4750000000,
    low: 3080000000,
    open: 4750000000,
    close: 4350000000,
    volume: 30656500000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 191188286,
    startTime: 1682726400,
    high: 5394000000,
    low: 4750000000,
    open: 5394000000,
    close: 4750000000,
    volume: 14900000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 191041393,
    startTime: 1682640000,
    high: 5395000000,
    low: 3700000000,
    open: 5395000000,
    close: 5394000000,
    volume: 38150000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 190838011,
    startTime: 1682553600,
    high: 5750000000,
    low: 4750000000,
    open: 4790000000,
    close: 5395000000,
    volume: 64720000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 190642280,
    startTime: 1682467200,
    high: 5980000000,
    low: 4790000000,
    open: 5980000000,
    close: 4790000000,
    volume: 0,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 190488297,
    startTime: 1682380800,
    high: 6300000000,
    low: 5980000000,
    open: 6300000000,
    close: 5980000000,
    volume: 6200000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 190281483,
    startTime: 1682294400,
    high: 6300000000,
    low: 4000000000,
    open: 4300000000,
    close: 6300000000,
    volume: 145770000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 190099604,
    startTime: 1682208000,
    high: 4650000000,
    low: 3800000000,
    open: 3800000000,
    close: 4300000000,
    volume: 31005000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 189924413,
    startTime: 1682121600,
    high: 4490000000,
    low: 3800000000,
    open: 4490000000,
    close: 3800000000,
    volume: 15410000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 189713934,
    startTime: 1682035200,
    high: 4700000000,
    low: 4380000000,
    open: 4490000000,
    close: 4490000000,
    volume: 0,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 189499194,
    startTime: 1681948800,
    high: 4700000000,
    low: 4490000000,
    open: 4690000000,
    close: 4490000000,
    volume: 4690000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 189386436,
    startTime: 1681862400,
    high: 4700000000,
    low: 3900000000,
    open: 4700000000,
    close: 4690000000,
    volume: 90640000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 189202708,
    startTime: 1681776000,
    high: 5690000000,
    low: 4400000000,
    open: 4800000000,
    close: 4700000000,
    volume: 13700000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 189012768,
    startTime: 1681689600,
    high: 4800000000,
    low: 4360000000,
    open: 4550000000,
    close: 4800000000,
    volume: 42010000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 188838332,
    startTime: 1681603200,
    high: 5170000000,
    low: 3370000000,
    open: 5170000000,
    close: 4550000000,
    volume: 7920000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 188638593,
    startTime: 1681516800,
    high: 6200000000,
    low: 4490000000,
    open: 4980000000,
    close: 5170000000,
    volume: 47360000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 188451133,
    startTime: 1681430400,
    high: 5390000000,
    low: 4880000000,
    open: 5390000000,
    close: 4980000000,
    volume: 5190000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 188232659,
    startTime: 1681344000,
    high: 6300000000,
    low: 5050000000,
    open: 5190000000,
    close: 5390000000,
    volume: 43830000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 188068178,
    startTime: 1681257600,
    high: 5650000000,
    low: 5190000000,
    open: 5650000000,
    close: 5190000000,
    volume: 0,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 187887331,
    startTime: 1681171200,
    high: 5650000000,
    low: 4900000000,
    open: 4900000000,
    close: 5650000000,
    volume: 52980000000,
  },
  {
    helloMoonCollectionId: '4639caf709f8358ee7b2271255b53cf2',
    granularity: 'ONE_DAY',
    lastblockid: 187632800,
    startTime: 1681084800,
    high: 5100000000,
    low: 3530000000,
    open: 5100000000,
    close: 4900000000,
    volume: 8381000000,
  },
]
